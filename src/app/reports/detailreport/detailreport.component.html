<form (ngSubmit)="onSubmit()" #myForm="ngForm" [formGroup]="postForm">
  <div class="popup">
    <h2>Add new transaction</h2>
    <alert></alert>
    <div>
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-6">
            <label>Transaction date</label>
            <input type="date" formControlName="TranDate" class="form-control" name="TranDate" id="TranDate" required />
            <div>
            </div>
          </div>
          <div class="col-md-6">
            <label for="BankDesc">Bank Desc</label>
            <input class="form-control" formControlName="BankDesc" name="BankDesc" id="BankDesc"
              placeholder="Bank Description" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label for="BankDesc2">Bank Desc 2</label>
            <input class="form-control" formControlName="BankDesc2" name="BankDesc2" id="BankDesc2"
              placeholder="Bank Description 2" />
          </div>
          <div class="col-md-6">
            <label for="MyDesc">My Desc</label>
            <div class="autocomplete-container">
              <input class="form-control" #carSearchInput formControlName="MyDesc" placeholder="My Description" required
                (click)="showSearches = true" />
              <a class="close" (click)="clearSearch();">&times;</a>
              <ul *ngIf="suggestions$ | async as suggestions" [hidden]="!showSearches">
                <li *ngFor="let suggestion of suggestions" tappable (click)="setCarName(suggestion)">{{ suggestion }}
                </li>
              </ul>
            </div>
            <div *ngIf="MyDesc?.invalid && (MyDesc?.dirty || MyDesc?.touched)">
              <small *ngIf="MyDesc?.errors?.['required']">My desc is required!</small>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label for="AmtDeducted">Amt Deducted</label>
            <input type="number" class="form-control" formControlName="AmtDeducted" id="AmtDeducted" required
              placeholder="Amt Deducted" />
            <div *ngIf="AmtDeducted?.invalid && (AmtDeducted?.dirty || AmtDeducted?.touched)">
              <small *ngIf="AmtDeducted?.errors?.['required']">Amt deducted is required!</small>
            </div>
          </div>
          <div class="col-md-6">
            <label for="PaidUsing">Paid Using</label>
            <input type="text" class="form-control" formControlName="PaidUsing" id="PaidUsing" required
              placeholder="Paid Using" />
            <div *ngIf="PaidUsing?.invalid && (PaidUsing?.dirty || PaidUsing?.touched)">
              <small *ngIf="PaidUsing?.errors?.['required']">Paid using is required!</small>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div style="height: 30px;"></div>
            <div class="form-inline">
              <label><input type="checkbox" value="IsInvestment" formControlName="IsInvestment" name="IsInvestment"
                  class="form-check-input">Investment</label>
            </div>
          </div>
          <div class="col-md-6">
            <label>Financial Year</label>
            <select id="FYYear" formControlName="FYYear" class="form-select" aria-label="Default select example">
              <option value="2019">2019</option>
              <option value="2020">2020</option>
              <option value="2021">2021</option>
              <option value="2022">2022</option>
              <option value="2023">2023</option>
              <option value="2024">2024</option>
              <option value="2025">2025</option>
            </select>
          </div>
        </div>
        <div class="my-2">
          <input type="submit" value="Submit" id="btn">
        </div>
      </div>
    </div>
  </div>
</form>
